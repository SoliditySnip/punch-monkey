<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Save Punch ğŸ’ | The Baby Monkey Game</title>
  <meta name="description"
    content="Help Punch the baby monkey survive! Grab the orangutan plushie to protect yourself from the big bullying monkeys." />
  <link rel="icon" type="image/png" href="/logo.png" />
  <link rel="apple-touch-icon" href="/logo.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800;900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="/src/style.css" />
</head>

<body>
  <div id="app">

    <!-- â•â•â• MENU SCREEN â•â•â• -->
    <div id="menu-screen" class="screen active">
      <div class="screen-bg menu-bg"></div>

      <!-- Top-left: X / Twitter Community -->
      <a id="x-btn" class="x-btn" href="https://x.com/i/communities/2024905358117118016" target="_blank" rel="noopener"
        title="Join our X Community">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.259 5.63L18.244 2.25zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
        </svg>
        <span>Community</span>
      </a>

      <!-- Top-right: CA badge -->
      <div id="ca-badge" class="ca-badge" title="Copy Contract Address">
        <span class="ca-label">CA:</span>
        <span id="ca-text" class="ca-text">FT7qsKpgo4DhfjyaseBKLiUYKqBSdHZk4EoGLoKEpump</span>
        <span class="ca-icon">ğŸ“‹</span>
      </div>

      <div class="menu-container">
        <div class="menu-logo">
          <div class="logo-img-wrap">
            <img src="/logo.png" alt="Save Punch Logo" id="logo-punch"
              onerror="this.style.display='none';document.getElementById('logo-fb').style.display='flex'" />
            <div class="logo-fb" id="logo-fb">ğŸ’</div>
          </div>
          <h1 class="game-title">Save Punch!</h1>
          <p class="game-sub">ğŸ§¸ Grab the plushie. Survive the bullies! ğŸ§¸</p>
        </div>
        <div class="story-card">
          <p>Punch is a baby monkey at Ichikawa Zoo ğŸ‡¯ğŸ‡µ abandoned by his mother. He found comfort in an orange plushie
            ğŸŠ â€” but the big monkeys won't stop bullying himâ€¦</p>
        </div>
        <div class="name-row">
          <input type="text" id="player-name" class="name-input" placeholder="Enter your name to playâ€¦" maxlength="20"
            autocomplete="off" spellcheck="false" />
          <p class="name-error hidden" id="name-error">âš ï¸ Please enter your name first!</p>
        </div>
        <button id="start-btn" class="btn btn-play">ğŸ’ Play as Punch!</button>
        <button id="leaderboard-btn" class="btn btn-board">ğŸ† Leaderboard</button>
        <div class="controls-hint">
          <span>ğŸ–¥ï¸ WASD / Arrow Keys</span>
          <span>ğŸ“± Touch joystick on mobile</span>
        </div>
      </div>
    </div>

    <!-- â•â•â• GAME SCREEN â•â•â• -->
    <div id="game-screen" class="screen">
      <div id="game-ui">
        <div class="ui-lives" id="lives-display"></div>
        <div class="ui-center">
          <div class="ui-score">
            <span class="ui-label">SCORE</span>
            <span id="score-value">0</span>
          </div>
          <div class="ui-timer" id="timer-display">0:00</div>
        </div>
        <div class="ui-right">
          <div class="ui-shield hidden" id="shield-ui">ğŸ§¸ <span id="shield-secs">12</span>s</div>
          <div class="ui-wave">
            <span class="ui-label">WAVE</span>
            <span id="wave-value">1</span>
          </div>
          <button id="mute-btn" class="mute-btn" title="Toggle Music">ğŸ”Š</button>
        </div>
      </div>
      <canvas id="game-canvas"></canvas>
      <div id="joystick-zone">
        <div id="joystick-base">
          <div id="joystick-knob"></div>
        </div>
      </div>
    </div>

    <!-- â•â•â• GAME OVER SCREEN â•â•â• -->
    <div id="gameover-screen" class="screen">
      <div class="overlay-bg"></div>
      <div class="gameover-card">
        <div class="go-emoji">ğŸ˜¢</div>
        <h2>Oh no, Punch!</h2>
        <p class="go-sub">The big monkeys got youâ€¦<br />But your plushie still loves you! ğŸ§¸</p>
        <div class="go-score-wrap">
          <span class="go-score-label">Your Score</span>
          <span id="final-score" class="go-score-val">0</span>
        </div>
        <div id="rank-msg" class="rank-msg hidden"></div>
        <div id="save-status" class="save-status">â³ Saving scoreâ€¦</div>
        <button id="play-again-btn" class="btn btn-play">ğŸ’ Play Again</button>
        <button id="menu-btn" class="btn btn-ghost">Main Menu</button>
      </div>
    </div>

    <!-- â•â•â• LEADERBOARD SCREEN â•â•â• -->
    <div id="leaderboard-screen" class="screen">
      <div class="overlay-bg"></div>
      <div class="lb-card">
        <button id="back-btn" class="back-btn">â† Back</button>
        <h2>ğŸ† Hall of Fame</h2>
        <p class="lb-sub">Top Punch Protectors Worldwide</p>
        <div id="lb-list" class="lb-list">
          <div class="lb-loading">Loading championsâ€¦</div>
        </div>
        <button id="play-lb-btn" class="btn btn-play">ğŸ’ Play Now</button>
      </div>
    </div>

  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>